<form class="row g-3  bg-dark p-3 text-white form-floatingneeds-validation" novalidate #form="ngForm" (ngSubmit)="addFormation()" *ngIf="formation  as f">
    <input type="hidden" class="form-control" id="idForm" name="idForm" [(ngModel)]="f.idFormation" #id="ngModel" >
    <div class="col-md-4">
        <label for="code" class="form-label">Code Formation</label>
        <input type="text" class="form-control own-text" id="code" name="code"required minlength="8" [(ngModel)]="f.codeFormation" #code="ngModel" (change)="changeId($event)">
        <div *ngIf="code.invalid && code.dirty" class="invalid-feedback">
            Le code de la formation doit avoir au moins 8 caractères
        </div>
    </div>
    <div class="col-md-8">
        <label for="nom" class="form-label">Nom</label>
        <input type="text" class="form-control" id="nom" name="nom"required [(ngModel)]="f.nom" #nom="ngModel">
        <div *ngIf="nom.invalid && nom.dirty" class="invalid-feedback text-danegr">
            Le nom de la formation est indispensable!!!
        </div>
    </div>
    <div class="col-md-9">
        <label for="inputStheme" class="form-label">Sous thème</label>
        <select class="dropdownlist" id="inputStheme" class="form-select"  (change)="selectChange($event)" name="stheme" required>
            <option [ngValue]="null" disabled>Choisir Sous thème ...</option>
            <option *ngFor="let s of sthemes$|async" [ngValue]="s" [selected]="f.stheme.codeStheme===s.codeStheme">{{s.codeStheme}}-{{s.nom}}</option>
        </select>
    </div>
    <div class="col-md-3">
        <label for="inputJours" class="form-label">Nombre de Jours</label>
        <input class="form-control fs-5 pt-0 pb-2" type="number"  id="inputJours" min="1" max="99" required [(ngModel)]="f.nbreJrs" name="nbreJours" #nbreJours="ngModel">
        <div *ngIf="nbreJours.invalid && nbreJours.dirty" class="invalid-feedback">
            Le nombre de jours doit etre supérieur à 0
        </div>
    </div>
    <div class="col-12 mb-4">
        <label for="inputDescription" class="form-label">Description</label>
        <textarea class="form-control" name="" id="inputDescription" [(ngModel)]="f.description" name="description"cols="30" rows="3" placeholder="Entrez une description ou présentation de ladite formation" [value]="''"></textarea>
    </div>
    <div class="col-md-6">
        <label for="inputObjectifs" class="form-label">Objectifs</label>
        <textarea class="form-control" name="" id="inputObjectifs" cols="30" rows="4" placeholder="Entrez une liste d'objectifs de ladite formation séparée par des points virgule" [value]="''"></textarea>
    </div>
    <div class="col-md-6">
        <label for="inputProgramme" class="form-label">Programme</label>
        <textarea class="form-control" name="" id="inputProgramme" cols="30" rows="4" placeholder="Entrez le programme de la formation dont les items sont séparés par des points virgule" [value]="''"></textarea>
    </div>
    <div class="col-12">
        <button type="submit" [disabled]="form.invalid" class="btn btn-primary mt-3 ps-4 pe-4" [ngClass]="isCreation? 'btn-primary':'btn-warning'" >{{ isCreation? "Créer":"Modifier"}}</button>
    </div>
</form>